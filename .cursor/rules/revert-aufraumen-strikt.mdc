---
description: Bei RÃ¼cknahme/Revert oder Umbau einer Funktion ALLES aufrÃ¤umen â€“ strenger Befehl.
alwaysApply: true
---

# ğŸ”’ Revert / Umbau = sofort vollstÃ¤ndig aufrÃ¤umen (streng)

## Problem

Nach Crashes oder RÃ¼cknahmen bleibt oft MÃ¼ll liegen: orphanierte `catch`/`finally`, tote API-Aufrufe, doppelte BlÃ¶cke, alte Imports. Das Problem verschwindet unter dem MÃ¼ll und wird immer schwerer zu finden.

## Strenge Regel (unverhandelbar)

**Wenn du eine Funktion zurÃ¼cknimmst, eine API entfernst oder einen Ablauf Ã¤nderst:**

1. **In einem Zug entfernen:** Alles, was dazugehÃ¶rt â€“ nicht nur â€die eine Zeileâ€œ.
   - API/Endpoint entfernt â†’ **sofort** alle Aufrufer (fetch, Button-Logik) und **alle** zugehÃ¶rigen BlÃ¶cke (try/catch/finally, State, Erfolgs-/Fehlermeldungen) mit entfernen oder anpassen.
   - Kein â€catch/finally lassen wir mal stehenâ€œ â€“ gehÃ¶rt der try weg, gehÃ¶rt der ganze try-catch-finally weg oder wird sauber ersetzt.
2. **Keine Halbheiten:** Kein toter Code, keine doppelten catch, keine Kommentare wie â€war mal fÃ¼r API Xâ€œ. Entweder funktional oder weg.
3. **Nach dem Ã„ndern:** Build prÃ¼fen (`npm run build`). Wenn Fehler (z. B. TS â€expectedâ€œ oder orphaned block) â†’ sofort beheben, nicht â€spÃ¤ter aufrÃ¤umenâ€œ.

## Konkret bei Revert

- Feature/API raus â†’ Aufruf raus, zugehÃ¶riger **gesamter** try/catch/finally raus oder durch einen einzigen, gÃ¼ltigen Block ersetzen.
- Neuer Ablauf (z. B. nur noch Zwischenablage) â†’ nur noch **einen** klaren Ablauf im Code, keine Reste des alten Ablaufs.

## Kurzfassung

**Revert/Umbau = sofort vollstÃ¤ndig aufrÃ¤umen. Kein MÃ¼ll liegen lassen. Strenger Befehl â€“ sonst verschwindet das echte Problem unter dem MÃ¼ll.**
