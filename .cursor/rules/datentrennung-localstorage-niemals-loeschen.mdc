---
description: Datentrennung localStorage â€“ niemals still lÃ¶schen (Ã¼berlebenswichtig)
alwaysApply: true
---

# ðŸ”’ DATENTRENNUNG localStorage â€“ NIEMALS STILL LÃ–SCHEN (ÃœBERLEBENSWICHTIG)

## Was passiert ist (23.02.26 â€“ Lehre aus dem Supergau)

Ein Filter in `loadVk2Artworks()` hat Mitglieder-Daten als â€žFremd-EintrÃ¤ge" erkannt und
**still aus localStorage gelÃ¶scht** â€“ ohne Warnung, ohne BestÃ¤tigung, einfach weg.
Im Echtbetrieb = alle Kundendaten eines Vereins vernichtet. Supergau.

---

## ðŸ”´ ABSOLUT VERBOTEN

- **Niemals** Daten aus localStorage lÃ¶schen oder Ã¼berschreiben ohne explizite BestÃ¤tigung durch den User.
- **Niemals** einen Filter bauen der bei jedem Laden â€žaufrÃ¤umt" und dabei Daten entfernt.
- **Niemals** einen Fehler mit einem Filter reparieren. Filter = falscher Ansatz.
- **Niemals** `localStorage.setItem(key, JSON.stringify(gefilterteVersion))` als â€žReparatur" einsetzen.

---

## âœ… DIE DREI RICHTIGEN KEYS â€“ unverÃ¤nderlich

| Kontext | localStorage-Key | EnthÃ¤lt |
|---|---|---|
| **K2** (echte Galerie) | `k2-artworks` | Echte Werke von Martina & Georg |
| **Ã¶k2** (Demo) | `k2-oeffentlich-artworks` | Nur Muster-Werke |
| **VK2** (Verein) | `k2-vk2-stammdaten` | Nur Mitglieder (Vorsitzende, Mitglieder-Liste) |

**VK2 hat KEINEN Artwork-Key.** `k2-vk2-artworks` existiert nicht und darf nicht wieder eingefÃ¼hrt werden.

---

## âœ… WAS STATTDESSEN ZU TUN IST

### Wenn falsche Daten in einem Key sind:
1. **Console.warn** â€“ sichtbar machen, nicht still entfernen
2. **Dem User anzeigen** was falsch ist
3. **Einmalige manuelle Bereinigung** anbieten (Button â€žBereinigen") â€“ nie automatisch

### Wenn ein neuer Key benÃ¶tigt wird:
1. Zuerst fragen: **GehÃ¶rt dieser Key wirklich hier hin?**
2. Wenn die Antwort unsicher ist â†’ NICHT anlegen, Georg fragen
3. Neuer Key = neue Regel in dieser Datei dokumentieren

### Bei Datentrennung K2 / Ã¶k2 / VK2:
- Nur lesen was zum Kontext gehÃ¶rt
- Nie schreiben in fremde Keys
- Nie filtern was aus fremden Keys stammt â€“ das ist ein Symptom, nicht die LÃ¶sung

---

## ðŸ”´ MUSTER das verboten ist (Beispiel aus dem Supergau)

```typescript
// âŒ VERBOTEN â€“ lÃ¶scht still Kundendaten
const filtered = parsed.filter(a => a.number.startsWith('VK2-'))
localStorage.setItem('k2-vk2-artworks', JSON.stringify(filtered)) // NEIN!
```

## âœ… ERLAUBTES MUSTER (nur lesen, nie filtern-und-zurÃ¼ckschreiben)

```typescript
// âœ… ERLAUBT â€“ nur lesen, nie manipulieren
const raw = localStorage.getItem('k2-vk2-stammdaten')
const stammdaten = JSON.parse(raw || '{}')
const mitglieder = stammdaten?.mitglieder ?? []
// â†’ direkt verwenden, nie zurÃ¼ckschreiben ohne User-Aktion
```

---

## Kurzfassung (auswendig lernen)

**Kein Filter lÃ¶scht Kundendaten. Nie. Auch nicht â€žzur Sicherheit". Auch nicht â€žnur FremdeintrÃ¤ge".**
**Fehler in Daten = dem User zeigen. Nie still korrigieren.**
**VK2 = nur Mitglieder. Kein Artwork-Key. FÃ¼r immer.**
