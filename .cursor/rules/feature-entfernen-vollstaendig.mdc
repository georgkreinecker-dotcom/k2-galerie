---
description: Beim Entfernen einer Funktion/Komponente ALLES in einem Zug entfernen und committen â€“ keine halben Sachen.
alwaysApply: true
---

# ğŸ”’ Feature/Komponente entfernen = vollstÃ¤ndig, dann committen

## Was schiefgelaufen ist (Zweite TÃ¼r / AdminLoginPage, 18.02.26)

- **Ziel:** Supabase-Admin-Login (â€zweite TÃ¼râ€œ) entfernen, nur Galerie-Passwort behalten.
- **Gemacht:** Route geÃ¤ndert (App.tsx), AdminLoginPage.tsx gelÃ¶scht, AdminRoute vereinfacht.
- **Problem:** Ã„nderungen teils nur lokal, teils nicht alle Stellen:
  - App.tsx (Navigate) â†’ irgendwann committed.
  - AdminLoginPage.tsx **lÃ¶schen** â†’ erst spÃ¤t committed (Datei blieb auf main).
  - **AdminRoute.tsx** (kein Import von AdminLoginPage, kein Supabase-Check) â†’ **nie committed**. Auf main stand weiter die alte Version mit `import AdminLoginPage` und `if (!session) return <AdminLoginPage />`.
- **Folge:** Vercel-Build von main schlug fehl: â€Cannot find module '../pages/AdminLoginPage'â€œ. Production blieb alt, â€nichts kommtâ€œ.

## Regel (unverÃ¤nderlich)

**Wenn du eine Komponente, einen Ablauf oder ein â€Featureâ€œ (z. B. eine â€TÃ¼râ€œ/Login-Ebene) entfernst:**

1. **Alle Stellen in einem Zug anpassen:**
   - Die Komponente/Datei lÃ¶schen oder ersetzen.
   - **Jede Datei**, die die Komponente **importiert** oder **verwendet**, sofort anpassen (Import raus, Verwendung raus). Nicht nur die Route in App.tsx â€“ auch z. B. AdminRoute, Lazy-Wrapper, Guards.
2. **Alles committen:** Alle geÃ¤nderten und gelÃ¶schten Dateien in **einem** Commit (oder klar nacheinander), damit auf dem Branch **keine** alte Referenz mehr steht.
3. **Nicht annehmen â€Code ist korrektâ€œ:** Der **Build** lÃ¤uft gegen den Stand von **main** (bzw. dem Deploy-Branch). Ungespeicherte oder uncommittete Ã„nderungen sind fÃ¼r Production wertlos. Nach dem Entfernen: `git status` prÃ¼fen, ob wirklich alle betroffenen Dateien committed sind.

## Checkliste â€Feature entfernenâ€œ

- [ ] Komponente/Datei entfernt (oder durch Stub ersetzt).
- [ ] Alle Imports und Verwendungen der Komponente gesucht (`grep` nach Dateiname/Import) und entfernt.
- [ ] Lokal `npm run build` â€“ erfolgreich.
- [ ] Alle geÃ¤nderten Dateien committed (inkl. LÃ¶schung).
- [ ] Push auf den Deploy-Branch (main), dann Deployment prÃ¼fen.

## Kurzfassung

**Etwas entfernen = alle Referenzen in einem Zug entfernen + alles committen. Keine halben Sachen â€“ sonst baut Production weiter mit der alten Referenz und schlÃ¤gt fehl.**
